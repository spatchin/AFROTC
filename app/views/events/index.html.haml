- attributes = Event.attribute_names.reject { |a| %w(id created_at updated_at).include? a }
.container
  .page-header
    %h1
      Manage Events
    %ul.nav.nav-pills
      %li
        %a{href: '/cadet_area'}
          Cadet Area
      - if current_user.poc? || current_user.cadre? || current_user.admin?
        %li
          %a{href: users_path}
            Cadet Management
        %li.active
          %a{href: events_path}
            Event Management
  .row
    .col-md-offset-3.col-md-6
      %table.table.table-striped
        %thead
          %tr
            - attributes.each do |attribute|
              %th= attribute.humanize
            %th Actions
        %tbody
          - @events.each do |event|
            %tr
              - attributes.each do |attribute|
                - if attribute == 'Date'
                  - val = event.send(attribute).strftime("%c")
                - else  
                  - val = event.send(attribute)
                %td= [true, false].include?(val) ? val ? 'Yes' : 'No' : val
              %td= render 'actions', event: event
  .row.text-center
    .col-md-12
      = link_to 'New Event', new_event_path, class: 'btn btn-primary'